<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
        <!--Play Rock, Paper, Scissors with the computer
        After a user input
        Computer will return with a random choice between R.P. or S.
        Winner will be announced
        -->
    <script>    
        
        let humanScore = 0; /*sets score for human and CPU*/
        let cpuScore = 0; 
        
        function computerPlay() {
            let choice = ["rock", "paper", "scissors"]; /*Array for choices that computer can make.*/
            return choice[Math.floor(Math.random()*choice.length)];
        }    
        
 game();        /* calls the game */

        function game() { /*As long as the score for either player is less than 5, the game continues*/
            while (humanScore < 5 && cpuScore < 5) { 
                let playerSelection = prompt("Do you choose rock, paper, or scissors?").toLowerCase(); /*Makes sure the player input is alway lowercase*/
                let computerSelection = computerPlay();
                computerSelection = computerSelection.toLowerCase();
                console.log("You chose", playerSelection,".", "The computer chose", computerSelection,".");
		console.log(playRound(playerSelection, computerSelection));
                console.log ("Human ", humanScore, " Computer ", cpuScore);
            }
            console.log(winner());
        }
  
        
         function playRound(playerSelection, computerSelection) { /* This is the function that compares the player and computer choice, then adds a score appropriately*/
            if (playerSelection == computerSelection) {
                return "It's a tie this round! You both chose " + playerSelection;
            } else if (
                (playerSelection == "rock" && computerSelection == "scissors") ||
                (playerSelection == "scissors" && computerSelection == "paper") ||
                (playerSelection == "paper" && computerSelection == "rock")) {
                humanScore += 1; /* Adds +1 to the last score that the player had */
                return "You win the round, " + playerSelection + " beats " + computerSelection;
            } else if ( /* If the player doesn't enter rock paper or scissors, including spelling, an alert tells them to enter rock paper or scissors. */
                (playerSelection != "rock") && 
                (playerSelection != "paper") &&
                (playerSelection != "scissors")) {
		console.log("You didn't enter a valid choice.");
                alert("You have to enter rock, paper, or scissors.");
            } else { /* Since all the other scenarios have been covered, the default can be a computer win if the earlier conditions aren't met. */
                cpuScore += 1;
                return "You lose the round, " + computerSelection + " beats " + playerSelection;
            }
     
        }
        

        function winner() { /* This function is called only when the player or computer has reached 5 points */
            if (humanScore == 5) {
                return "You have won the game!";
            }
            if (cpuScore == 5) {
                return "You have lost the game!";
            }    
        } 

   


    </script>
</body>
</html>
